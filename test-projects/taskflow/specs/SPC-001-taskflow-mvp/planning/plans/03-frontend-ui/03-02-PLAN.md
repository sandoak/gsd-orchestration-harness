---
phase: 03-frontend-ui
plan: 02
type: execute
wave: 1
depends_on: ['01-03']
files_modified:
  - packages/web/src/components/TaskForm.tsx
  - packages/web/src/components/TaskForm.css
  - packages/web/src/components/index.ts
autonomous: true
must_haves:
  truths:
    - 'Form accepts title and description'
    - 'Form validates title is required'
    - 'Form clears after successful submission'
  artifacts:
    - path: 'packages/web/src/components/TaskForm.tsx'
      provides: 'Task creation form'
      exports: ['TaskForm']
  key_links: []
must_pass:
  - id: file-exists-task-form
    type: file_exists
    path: packages/web/src/components/TaskForm.tsx
---

<objective>
Create a React form component for creating new tasks.

Purpose: Allow users to create new tasks with title and description.
Output: TaskForm component with validation and submission handling.
</objective>

<execution_context>
@.harness/skills/workflows/execute-plan.md
@.harness/skills/templates/summary.md
</execution_context>

<context>
@specs/SPC-001-taskflow-mvp/SPEC.md
@specs/SPC-001-taskflow-mvp/execution/phases/01-foundation/01-03-SUMMARY.md
@packages/shared/src/types.ts

**Form requirements:**

- Title field (required)
- Description field (optional)
- Submit button with loading state
- Error display
- Clear form on successful submission
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create TaskForm component</name>
  <files>packages/web/src/components/TaskForm.tsx, packages/web/src/components/TaskForm.css</files>
  <action>
    1. Create packages/web/src/components/TaskForm.tsx:
       ```typescript
       import { useState, FormEvent } from 'react';
       import type { CreateTaskInput } from '@taskflow/shared';
       import './TaskForm.css';

       interface TaskFormProps {
         onSubmit: (task: CreateTaskInput) => Promise<void>;
         submitting?: boolean;
       }

       export function TaskForm({ onSubmit, submitting = false }: TaskFormProps) {
         const [title, setTitle] = useState('');
         const [description, setDescription] = useState('');
         const [error, setError] = useState<string | null>(null);

         const handleSubmit = async (e: FormEvent) => {
           e.preventDefault();
           setError(null);

           const trimmedTitle = title.trim();
           if (!trimmedTitle) {
             setError('Title is required');
             return;
           }

           try {
             await onSubmit({
               title: trimmedTitle,
               description: description.trim() || undefined
             });
             setTitle('');
             setDescription('');
           } catch (err) {
             setError(err instanceof Error ? err.message : 'Failed to create task');
           }
         };

         return (
           <form className="task-form" onSubmit={handleSubmit} data-testid="task-form">
             <h2>Create New Task</h2>
             {error && <div className="task-form-error" role="alert">{error}</div>}
             <div className="form-group">
               <label htmlFor="task-title">Title *</label>
               <input
                 id="task-title"
                 type="text"
                 value={title}
                 onChange={(e) => setTitle(e.target.value)}
                 placeholder="What needs to be done?"
                 disabled={submitting}
                 required
               />
             </div>
             <div className="form-group">
               <label htmlFor="task-description">Description (optional)</label>
               <textarea
                 id="task-description"
                 value={description}
                 onChange={(e) => setDescription(e.target.value)}
                 placeholder="Add more details..."
                 disabled={submitting}
                 rows={3}
               />
             </div>
             <button type="submit" className="submit-button" disabled={submitting || !title.trim()}>
               {submitting ? 'Creating...' : 'Create Task'}
             </button>
           </form>
         );
       }
       ```

    2. Create packages/web/src/components/TaskForm.css with styling:
       - Form layout with labels and inputs
       - Error message display
       - Disabled states for submitting
       - Submit button styling

  </action>
  <verify>
    - ls packages/web/src/components/TaskForm.tsx packages/web/src/components/TaskForm.css
  </verify>
  <done>
    - TaskForm component created
    - Title validation
    - Loading/submitting state
    - Error handling
  </done>
</task>

<task type="auto">
  <name>Task 2: Update components index</name>
  <files>packages/web/src/components/index.ts</files>
  <action>
    Update packages/web/src/components/index.ts to include TaskForm:

    ```typescript
    export { TaskList } from './TaskList';
    export { TaskItem } from './TaskItem';
    export { TaskForm } from './TaskForm';
    ```

  </action>
  <verify>
    - grep "TaskForm" packages/web/src/components/index.ts
  </verify>
  <done>
    - TaskForm exported from components index
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] TaskForm.tsx exists with title and description fields
- [ ] Form validates title is required
- [ ] index.ts exports TaskForm
- [ ] Component compiles without TypeScript errors
</verification>

<success_criteria>

- Form renders with all fields
- Validation works
- Ready for API integration
  </success_criteria>

<output>
After completion, create `specs/SPC-001-taskflow-mvp/execution/phases/03-frontend-ui/03-02-SUMMARY.md`
</output>
