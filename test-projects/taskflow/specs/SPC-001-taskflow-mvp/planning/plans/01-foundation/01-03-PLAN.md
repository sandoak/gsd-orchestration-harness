---
phase: 01-foundation
plan: 03
type: execute
wave: 2
depends_on: ['01-01']
files_modified:
  - packages/web/package.json
  - packages/web/tsconfig.json
  - packages/web/tsconfig.node.json
  - packages/web/vite.config.ts
  - packages/web/index.html
  - packages/web/src/main.tsx
  - packages/web/src/App.tsx
  - packages/web/src/App.css
  - packages/web/src/index.css
  - packages/web/src/vite-env.d.ts
autonomous: true
must_haves:
  truths:
    - 'Vite dev server runs on port 3000'
    - 'React app renders TaskFlow header'
    - 'API proxy configured for /api routes'
  artifacts:
    - path: 'packages/web/package.json'
      provides: 'Web package configuration'
      contains: '@taskflow/web'
    - path: 'packages/web/vite.config.ts'
      provides: 'Vite configuration with API proxy'
    - path: 'packages/web/src/App.tsx'
      provides: 'Main React component'
  key_links:
    - from: 'packages/web/vite.config.ts'
      to: 'localhost:3001'
      via: 'proxy configuration'
      pattern: 'proxy.*api'
must_pass:
  - id: file-exists-web-package
    type: file_exists
    path: packages/web/package.json
  - id: file-exists-vite-config
    type: file_exists
    path: packages/web/vite.config.ts
  - id: build-succeeds
    type: build_succeeds
    command: pnpm --filter @taskflow/web build
---

<objective>
Create the React + Vite frontend package with basic app setup.

Purpose: Establish the web client foundation that will display and manage tasks.
Output: Working Vite dev server with React app rendering.
</objective>

<execution_context>
@.harness/skills/workflows/execute-plan.md
@.harness/skills/templates/summary.md
</execution_context>

<context>
@specs/SPC-001-taskflow-mvp/SPEC.md
@specs/SPC-001-taskflow-mvp/ROADMAP.md
@specs/SPC-001-taskflow-mvp/execution/phases/01-foundation/01-01-SUMMARY.md

**Web package structure:**

```
packages/web/
├── package.json
├── tsconfig.json
├── vite.config.ts
├── index.html
├── src/
│   ├── main.tsx
│   ├── App.tsx
│   ├── components/    # UI components (Phase 3)
│   └── api/           # API client (Phase 3)
└── e2e/               # Playwright tests (Phase 4)
```

</context>

<tasks>

<task type="auto">
  <name>Task 1: Create web package configuration</name>
  <files>packages/web/package.json, packages/web/tsconfig.json, packages/web/tsconfig.node.json, packages/web/vite.config.ts</files>
  <action>
    1. Create packages/web/package.json:
       ```json
       {
         "name": "@taskflow/web",
         "version": "0.0.1",
         "type": "module",
         "scripts": {
           "dev": "vite",
           "build": "tsc -b && vite build",
           "preview": "vite preview",
           "test": "vitest run",
           "test:e2e": "playwright test"
         },
         "dependencies": {
           "@taskflow/shared": "workspace:*",
           "react": "^18.2.0",
           "react-dom": "^18.2.0"
         },
         "devDependencies": {
           "@types/react": "^18.2.0",
           "@types/react-dom": "^18.2.0",
           "@vitejs/plugin-react": "^4.2.0",
           "vite": "^5.0.0",
           "vitest": "^1.2.0",
           "@playwright/test": "^1.40.0"
         }
       }
       ```

    2. Create packages/web/tsconfig.json with jsx: react-jsx

    3. Create packages/web/tsconfig.node.json for vite config

    4. Create packages/web/vite.config.ts:
       ```typescript
       import { defineConfig } from 'vite';
       import react from '@vitejs/plugin-react';

       export default defineConfig({
         plugins: [react()],
         server: {
           port: 3000,
           proxy: {
             '/api': {
               target: 'http://localhost:3001',
               changeOrigin: true
             }
           }
         }
       });
       ```

  </action>
  <verify>
    - ls packages/web/package.json packages/web/vite.config.ts
  </verify>
  <done>
    - Web package.json created
    - Vite config with API proxy
    - TypeScript configs created
  </done>
</task>

<task type="auto">
  <name>Task 2: Create React app entry and components</name>
  <files>packages/web/index.html, packages/web/src/main.tsx, packages/web/src/App.tsx, packages/web/src/App.css, packages/web/src/index.css, packages/web/src/vite-env.d.ts</files>
  <action>
    1. Create packages/web/index.html:
       ```html
       <!DOCTYPE html>
       <html lang="en">
         <head>
           <meta charset="UTF-8" />
           <meta name="viewport" content="width=device-width, initial-scale=1.0" />
           <title>TaskFlow</title>
         </head>
         <body>
           <div id="root"></div>
           <script type="module" src="/src/main.tsx"></script>
         </body>
       </html>
       ```

    2. Create packages/web/src/main.tsx with React 18 createRoot

    3. Create packages/web/src/App.tsx with TaskFlow header

    4. Create packages/web/src/App.css with basic styling

    5. Create packages/web/src/index.css with base styles

    6. Create packages/web/src/vite-env.d.ts:
       ```typescript
       /// <reference types="vite/client" />
       ```

    Create placeholder directories:
    - packages/web/src/components/.gitkeep
    - packages/web/src/api/.gitkeep
    - packages/web/e2e/.gitkeep

  </action>
  <verify>
    - ls packages/web/index.html packages/web/src/App.tsx
    - pnpm --filter @taskflow/web build
  </verify>
  <done>
    - HTML entry point created
    - React app renders TaskFlow header
    - Ready for components in Phase 3
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] packages/web/package.json exists
- [ ] packages/web/vite.config.ts proxies /api
- [ ] packages/web/index.html exists
- [ ] packages/web/src/App.tsx exists
- [ ] pnpm --filter @taskflow/web build succeeds
</verification>

<success_criteria>

- Web package builds successfully
- Vite configured with API proxy
- Ready for components in Phase 3
  </success_criteria>

<output>
After completion, create `specs/SPC-001-taskflow-mvp/execution/phases/01-foundation/01-03-SUMMARY.md`
</output>
